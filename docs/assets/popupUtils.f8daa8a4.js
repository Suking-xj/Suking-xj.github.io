import{r as e,dE as l,dl as p,dF as d}from"./vendor.abf366c9.js";async function t(t,i=t.popupTemplate){if(!e(i))return[];const a=await i.getRequiredFields(t.fields),{lastEditInfoEnabled:n}=i,{objectIdField:s,typeIdField:u,globalIdField:o,relationships:f}=t;if(a.includes("*"))return["*"];const r=n?await l(t):[],c=p(t.fields,[...a,...r]);return u&&c.push(u),c&&s&&d(t.fields,s)&&-1===c.indexOf(s)&&c.push(s),c&&o&&d(t.fields,o)&&-1===c.indexOf(o)&&c.push(o),f&&f.forEach((e=>{const{keyField:l}=e;c&&l&&d(t.fields,l)&&-1===c.indexOf(l)&&c.push(l)})),c}function i(l,p){return l.popupTemplate?l.popupTemplate:e(p)&&p.defaultPopupTemplateEnabled&&e(l.defaultPopupTemplate)?l.defaultPopupTemplate:null}export{i as d,t as i};
