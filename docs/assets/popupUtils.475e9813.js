import{r as e,dO as d,dw as p,dP as l}from"./vendor.d5722712.js";async function t(t,i=t.popupTemplate){if(!e(i))return[];const a=await i.getRequiredFields(t.fields),{lastEditInfoEnabled:n}=i,{objectIdField:s,typeIdField:u,globalIdField:o,relationships:f}=t;if(a.includes("*"))return["*"];const r=n?await d(t):[],c=p(t.fields,[...a,...r]);return u&&c.push(u),c&&s&&l(t.fields,s)&&-1===c.indexOf(s)&&c.push(s),c&&o&&l(t.fields,o)&&-1===c.indexOf(o)&&c.push(o),f&&f.forEach((e=>{const{keyField:d}=e;c&&d&&l(t.fields,d)&&-1===c.indexOf(d)&&c.push(d)})),c}function i(d,p){return d.popupTemplate?d.popupTemplate:e(p)&&p.defaultPopupTemplateEnabled&&e(d.defaultPopupTemplate)?d.defaultPopupTemplate:null}export{i as d,t as i};
