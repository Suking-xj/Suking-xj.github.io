import{a5 as e,eN as p,ev as l,eO as t}from"./vendor.74d5941c.js";async function d(d,a=d.popupTemplate){if(!e(a))return[];const i=await a.getRequiredFields(d.fields),{lastEditInfoEnabled:s}=a,{objectIdField:n,typeIdField:u,globalIdField:o,relationships:f}=d;if(i.includes("*"))return["*"];const r=s?await p(d):[],c=l(d.fields,[...i,...r]);return u&&c.push(u),c&&n&&t(d.fields,n)&&-1===c.indexOf(n)&&c.push(n),c&&o&&t(d.fields,o)&&-1===c.indexOf(o)&&c.push(o),f&&f.forEach((e=>{const{keyField:p}=e;c&&p&&t(d.fields,p)&&-1===c.indexOf(p)&&c.push(p)})),c}function a(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{a as d,d as i};
