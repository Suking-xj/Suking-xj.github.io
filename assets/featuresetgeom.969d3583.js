import{fg as e,em as n,fh as t}from"./vendor.74d5941c.js";import{G as r,l as a,ak as i,J as s,K as l}from"./arcadeUtils.f4f7c393.js";import{w as o,A as c,x as u,O as f,p,g as d,h as m}from"./geometryEngineAsync.6e91af62.js";import{g as R,c as S}from"./SpatialFilter.3aceea46.js";import"./number.c0719e5d.js";import"./FeatureSetReader.a91e3e2d.js";import"./centroid.93c1b848.js";import"./WhereClause.f27c6004.js";import"./_commonjsHelpers.f2a458db.js";function h(e){return e instanceof n}function y(s,l,m,y,g){return g(s,l,(function(s,l,g){if(g.length<2)return y(new Error("Missing Parameters"));if(null===(g=r(g))[0]&&null===g[1])return e(!1);if(a(g[0]))return g[1]instanceof n?e(new R({parentfeatureset:g[0],relation:m,relationGeom:g[1]})):null===g[1]?e(new S({parentfeatureset:g[0]})):y("Spatial Relation cannot accept this parameter type");if(h(g[0])){if(h(g[1])){let e=null;switch(m){case"esriSpatialRelEnvelopeIntersects":e=d(i(g[0]),i(g[1]));break;case"esriSpatialRelIntersects":e=d(g[0],g[1]);break;case"esriSpatialRelContains":e=p(g[0],g[1]);break;case"esriSpatialRelOverlaps":e=f(g[0],g[1]);break;case"esriSpatialRelWithin":e=u(g[0],g[1]);break;case"esriSpatialRelTouches":e=c(g[0],g[1]);break;case"esriSpatialRelCrosses":e=o(g[0],g[1])}return null!==e?e:t(new Error("Unrecognised Relationship"))}return a(g[1])?e(new R({parentfeatureset:g[1],relation:m,relationGeom:g[0]})):null===g[1]?e(!1):y("Spatial Relation cannot accept this parameter type")}return null!==g[0]?y("Spatial Relation cannot accept this parameter type"):a(g[1])?e(new S({parentfeatureset:g[1]})):g[1]instanceof n||null===g[1]?e(!1):void 0}))}function g(e){"async"===e.mode&&(e.functions.intersects=function(n,t){return y(n,t,"esriSpatialRelIntersects",e.failDefferred,e.standardFunctionAsync)},e.functions.envelopeintersects=function(n,t){return y(n,t,"esriSpatialRelEnvelopeIntersects",e.failDefferred,e.standardFunctionAsync)},e.signatures.push({name:"envelopeintersects",min:"2",max:"2"}),e.functions.contains=function(n,t){return y(n,t,"esriSpatialRelContains",e.failDefferred,e.standardFunctionAsync)},e.functions.overlaps=function(n,t){return y(n,t,"esriSpatialRelOverlaps",e.failDefferred,e.standardFunctionAsync)},e.functions.within=function(n,t){return y(n,t,"esriSpatialRelWithin",e.failDefferred,e.standardFunctionAsync)},e.functions.touches=function(n,t){return y(n,t,"esriSpatialRelTouches",e.failDefferred,e.standardFunctionAsync)},e.functions.crosses=function(n,t){return y(n,t,"esriSpatialRelCrosses",e.failDefferred,e.standardFunctionAsync)},e.functions.relate=function(t,i){return e.standardFunctionAsync(t,i,(function(e,t,i){if(i=r(i),s(i,3,3),h(i[0])&&h(i[1]))return m(i[0],i[1],l(i[2]));if(i[0]instanceof n&&null===i[1])return!1;if(i[1]instanceof n&&null===i[0])return!1;if(a(i[0])&&null===i[1])return new S({parentfeatureset:i[0]});if(a(i[1])&&null===i[0])return new S({parentfeatureset:i[1]});if(a(i[0])&&i[1]instanceof n)return i[0].relate(i[1],l(i[2]));if(a(i[1])&&i[0]instanceof n)return i[1].relate(i[0],l(i[2]));if(null===i[0]&&null===i[1])return!1;throw new Error("Illegal Argument")}))})}export{g as registerFunctions};
