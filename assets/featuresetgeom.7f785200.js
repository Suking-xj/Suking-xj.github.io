import{fN as e,dl as n,fM as t}from"./vendor.d5722712.js";import{G as r,l as a,ak as i,J as s,K as l}from"./arcadeUtils.399e4e8c.js";import{w as o,A as c,x as u,O as f,p,g as d,h as m}from"./geometryEngineAsync.d51d66e2.js";import{g as R,c as S}from"./SpatialFilter.e63573f0.js";import"./number.ad6bfcf0.js";import"./FeatureSetReader.0caf98f1.js";import"./centroid.93c1b848.js";import"./WhereClause.2a4414a8.js";import"./_commonjsHelpers.f2a458db.js";function h(e){return e instanceof n}function y(s,l,m,y,w){return w(s,l,(function(s,l,w){if(w.length<2)return y(new Error("Missing Parameters"));if(null===(w=r(w))[0]&&null===w[1])return e(!1);if(a(w[0]))return w[1]instanceof n?e(new R({parentfeatureset:w[0],relation:m,relationGeom:w[1]})):null===w[1]?e(new S({parentfeatureset:w[0]})):y("Spatial Relation cannot accept this parameter type");if(h(w[0])){if(h(w[1])){let e=null;switch(m){case"esriSpatialRelEnvelopeIntersects":e=d(i(w[0]),i(w[1]));break;case"esriSpatialRelIntersects":e=d(w[0],w[1]);break;case"esriSpatialRelContains":e=p(w[0],w[1]);break;case"esriSpatialRelOverlaps":e=f(w[0],w[1]);break;case"esriSpatialRelWithin":e=u(w[0],w[1]);break;case"esriSpatialRelTouches":e=c(w[0],w[1]);break;case"esriSpatialRelCrosses":e=o(w[0],w[1])}return null!==e?e:t(new Error("Unrecognised Relationship"))}return a(w[1])?e(new R({parentfeatureset:w[1],relation:m,relationGeom:w[0]})):null===w[1]?e(!1):y("Spatial Relation cannot accept this parameter type")}return null!==w[0]?y("Spatial Relation cannot accept this parameter type"):a(w[1])?e(new S({parentfeatureset:w[1]})):w[1]instanceof n||null===w[1]?e(!1):void 0}))}function w(e){"async"===e.mode&&(e.functions.intersects=function(n,t){return y(n,t,"esriSpatialRelIntersects",e.failDefferred,e.standardFunctionAsync)},e.functions.envelopeintersects=function(n,t){return y(n,t,"esriSpatialRelEnvelopeIntersects",e.failDefferred,e.standardFunctionAsync)},e.signatures.push({name:"envelopeintersects",min:"2",max:"2"}),e.functions.contains=function(n,t){return y(n,t,"esriSpatialRelContains",e.failDefferred,e.standardFunctionAsync)},e.functions.overlaps=function(n,t){return y(n,t,"esriSpatialRelOverlaps",e.failDefferred,e.standardFunctionAsync)},e.functions.within=function(n,t){return y(n,t,"esriSpatialRelWithin",e.failDefferred,e.standardFunctionAsync)},e.functions.touches=function(n,t){return y(n,t,"esriSpatialRelTouches",e.failDefferred,e.standardFunctionAsync)},e.functions.crosses=function(n,t){return y(n,t,"esriSpatialRelCrosses",e.failDefferred,e.standardFunctionAsync)},e.functions.relate=function(t,i){return e.standardFunctionAsync(t,i,(function(e,t,i){if(i=r(i),s(i,3,3),h(i[0])&&h(i[1]))return m(i[0],i[1],l(i[2]));if(i[0]instanceof n&&null===i[1])return!1;if(i[1]instanceof n&&null===i[0])return!1;if(a(i[0])&&null===i[1])return new S({parentfeatureset:i[0]});if(a(i[1])&&null===i[0])return new S({parentfeatureset:i[1]});if(a(i[0])&&i[1]instanceof n)return i[0].relate(i[1],l(i[2]));if(a(i[1])&&i[0]instanceof n)return i[1].relate(i[0],l(i[2]));if(null===i[0]&&null===i[1])return!1;throw new Error("Illegal Argument")}))})}export{w as registerFunctions};
